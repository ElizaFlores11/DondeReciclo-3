<div id="search-app-content">

<!-- <ion-searchbar id="searchBar" type="text" debounce="500" animated placeholder="Busca materiales" color="dark"
  (click)="showSearch()" (ionChange)="searchAPI($event)" clearInput></ion-searchbar> -->

<ng-template #dondereciclo let-attrs="attrs">
   <span [innerHTML]="attrs.data.name"></span>
</ng-template>

<ng-template #suggestions let-attrs="attrs">
  <div>
    <ion-list-header>Categorias de búsqueda NIDEA</ion-list-header>
    <ion-chip *ngFor="let predefined of predefinedOptions" [color]="predefined.color">
      <ion-icon><img [src]="predefined.icon"></ion-icon>
      <ion-label [innerHTML]="predefined.name"></ion-label>
    </ion-chip>
  </div>
</ng-template>

<ion-auto-complete
  class="searchContent"
  [template]="dondereciclo"
  (click)="showSearch()"
  [(model)]="selected"
  [multi]="false"
  [dataProvider]="api"
  [disabled]="false"
  [maxResults]="6"
  [removeButtonColor]="'dark'"
  (ionAutoInput)="on('ionAutoInput', $event)"
  (itemsChange)="on('itemsChange', $event)"
  (itemsCleared)="on('itemsCleared', $event)"
  (itemsHidden)="on('itemsHidden', $event)"
  (itemRemoved)="on('itemRemoved', $event)"
  (itemSelected)="on('itemSelected', $event)"
  (itemsShown)="on('itemsShown', $event)">
</ion-auto-complete>


  <div class="resultsContent" [ngClass]="searchVisibility ? 'showResults' : 'hideResults'">
    <!-- <ion-list *ngIf="results" [ngClass]="searchVisibility ? 'showResults' : 'hideResults'">
      <ion-item *ngFor="let result of results" (click)="openMarker(result)">
        {{ result }}
      </ion-item>
    </ion-list> -->

    <div>
      <ion-list-header>Categorias de búsqueda</ion-list-header>
      <ion-chip *ngFor="let predefined of predefinedOptions" [ngStyle]="{'background-color': predefined.color, 'border-radius': '6px'}">
        <img [src]="predefined.icon"/>
        <ion-label [innerHTML]="predefined.name"></ion-label>
      </ion-chip>
    </div>
  </div>

  <div id="custom_backdrop" (click)="hideSearch()" [ngClass]="searchVisibility ? 'show' : 'hide'"></div>
</div>
