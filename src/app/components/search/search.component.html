<div id="search-app-content"
  [ngClass]="searchVisibility ? 'show' : 'hide'">

  <!-- <ion-searchbar id="searchBar" type="text" debounce="500" animated placeholder="Busca materiales" color="dark"
  (click)="showSearch()" (ionChange)="searchAPI($event)" clearInput></ion-searchbar> -->

  <ion-list-header id="results-title"
    [ngClass]="resultsVisibility ? 'show' : 'hide'">Resultados de búsqueda</ion-list-header>
  <ng-template [ngClass]="searchResults"
    #dr
    let-attrs="attrs">
    <ion-chip [ngClass]="attrs.data.color">
      <ion-icon name="heart"></ion-icon>
      <ion-label [innerHTML]="attrs.data.name | boldprefix:attrs.keyword"></ion-label>
    </ion-chip>
  </ng-template>

  <ng-template [ngClass]="searchResults"
    #drempty
    let-attrs="attrs">

    <ion-list-header>No hay resultados</ion-list-header>
  </ng-template>

  <!-- <ng-template #suggestions let-attrs="attrs">
    <div>
      <ion-list-header>Categorias de búsqueda NIDEA</ion-list-header>
      <ion-chip *ngFor="let predefined of predefinedOptions" [color]="predefined.color" [ngClass]="'suggestion'">
      </ion-chip>
    </div>
  </ng-template> -->

  <ion-auto-complete class="searchContent"
    [template]="dr"
    [showResultsFirst]="true"
    (click)="showSearch()"
    [(model)]="selected"
    [multi]="false"
    [dataProvider]="api"
    [disabled]="false"
    [maxResults]="6"
    [removeButtonColor]="'dark'"
    [clearInvalidInput]="false"
     (ionAutoInput)="resultsHidden()"
     (itemsCleared)="resultsShown()"
     (itemsHidden)="hideSearch()"
     (itemSelected)="hideSearch()"
     (itemsShown)="resultsShown()"
    >
  </ion-auto-complete>


  <div id="suggestions"
    [ngClass]="resultsVisibility ? 'show' : 'hide'">
    <ion-list-header>Categorias de búsqueda</ion-list-header>
    <div class="resultsWrap">
      <ion-chip *ngFor="let predefined of predefinedOptions"
        [ngClass]="predefined.color">
        <ion-label [innerHTML]="predefined.name"></ion-label>
        <ion-icon name="heart"></ion-icon>
      </ion-chip>
    </div>
  </div>

  <div id="custom_backdrop"
    (click)="hideSearch()"
    [ngClass]="searchVisibility ? 'show' : 'hide'"></div>
</div>
